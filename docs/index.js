!function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(n)}function c(e){return"function"==typeof e}function a(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function i(n,t,r){n.$$.on_destroy.push(function(n,...t){if(null==n)return e;const r=n.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}(t,r))}function l(e,n,t=n){return e.set(t),n}function o(e,n){e.appendChild(n)}function u(e,n,t){e.insertBefore(n,t||null)}function s(e){e.parentNode.removeChild(e)}function h(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function d(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function p(){return f(" ")}function m(){return f("")}function g(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function b(e,n,t){null==t?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function y(e){return""===e?null:+e}function $(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function v(e,n){e.value=null==n?"":n}function w(e,n){for(let t=0;t<e.options.length;t+=1){const r=e.options[t];if(r.__value===n)return void(r.selected=!0)}}class _{constructor(e=null){this.a=e,this.e=this.n=null}m(e,n,t=null){this.e||(this.e=d(n.nodeName),this.t=n,this.h(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)u(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(s)}}let k;function E(e){k=e}const x=[],T=[],O=[],S=[],N=Promise.resolve();let M=!1;function C(){M||(M=!0,N.then(A))}function G(){return C(),N}function D(e){O.push(e)}let W=!1;const L=new Set;function A(){if(!W){W=!0;do{for(let e=0;e<x.length;e+=1){const n=x[e];E(n),H(n.$$)}for(E(null),x.length=0;T.length;)T.pop()();for(let e=0;e<O.length;e+=1){const n=O[e];L.has(n)||(L.add(n),n())}O.length=0}while(x.length);for(;S.length;)S.pop()();M=!1,W=!1,L.clear()}}function H(e){if(null!==e.fragment){e.update(),r(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(D)}}const q=new Set;let I;function j(){I={r:0,c:[],p:I}}function B(){I.r||r(I.c),I=I.p}function P(e,n){e&&e.i&&(q.delete(e),e.i(n))}function F(e,n,t,r){if(e&&e.o){if(q.has(e))return;q.add(e),I.c.push(()=>{q.delete(e),r&&(t&&e.d(1),r())}),e.o(n)}}function z(e,n){F(e,1,1,()=>{n.delete(e.key)})}function J(e){e&&e.c()}function K(e,t,a){const{fragment:i,on_mount:l,on_destroy:o,after_update:u}=e.$$;i&&i.m(t,a),D(()=>{const t=l.map(n).filter(c);o?o.push(...t):r(t),e.$$.on_mount=[]}),u.forEach(D)}function Q(e,n){const t=e.$$;null!==t.fragment&&(r(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function R(n,c,a,i,l,o,u=[-1]){const h=k;E(n);const d=c.props||{},f=n.$$={fragment:null,ctx:null,props:o,update:e,not_equal:l,bound:t(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:t(),dirty:u,skip_bound:!1};let p=!1;if(f.ctx=a?a(n,d,(e,t,...r)=>{const c=r.length?r[0]:t;return f.ctx&&l(f.ctx[e],f.ctx[e]=c)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](c),p&&function(e,n){-1===e.$$.dirty[0]&&(x.push(e),C(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}(n,e)),t}):[],f.update(),p=!0,r(f.before_update),f.fragment=!!i&&i(f.ctx),c.target){if(c.hydrate){const e=function(e){return Array.from(e.childNodes)}(c.target);f.fragment&&f.fragment.l(e),e.forEach(s)}else f.fragment&&f.fragment.c();c.intro&&P(n.$$.fragment),K(n,c.target,c.anchor),A()}E(h)}class U{$destroy(){Q(this,1),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(e){var n;this.$$set&&(n=e,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function V(n){let t,r;return{c(){t=d("span"),r=f(n[0])},m(e,n){u(e,t,n),o(t,r)},p(e,[n]){1&n&&$(r,e[0])},i:e,o:e,d(e){e&&s(t)}}}function X(e,n,t){let{durability:r=3}=n,c="";return e.$$set=e=>{"durability"in e&&t(1,r=e.durability)},e.$$.update=()=>{2&e.$$.dirty&&(e=>{let n="";for(let t=0;t<e;t++)n+="■";t(0,c=n),0===e&&(n="없음")})(r)},[c,r]}class Y extends U{constructor(e){super(),R(this,e,X,V,a,{durability:1})}}const Z=[];function ee(n,t=e){let r;const c=[];function i(e){if(a(n,e)&&(n=e,r)){const e=!Z.length;for(let e=0;e<c.length;e+=1){const t=c[e];t[1](),Z.push(t,n)}if(e){for(let e=0;e<Z.length;e+=2)Z[e][0](Z[e+1]);Z.length=0}}}return{set:i,update:function(e){i(e(n))},subscribe:function(a,l=e){const o=[a,l];return c.push(o),1===c.length&&(r=t(i)||e),a(n),()=>{const e=c.indexOf(o);-1!==e&&c.splice(e,1),0===c.length&&(r(),r=null)}}}}const ne={NotStated:0,Started:1,GameOver:2},te=ee(ne.NotStated),re=ee(0),ce=[{id:0,name:"랜덤",desc:"랜덤으로 강화를 시도할 캐릭터를 고릅니다."},{id:1,name:"흑우",desc:"보통의 무기 내구도(3회)와 평범한 운을 가진 캐릭터"},{id:2,name:"주유",desc:"강화 확률이 절반 입니다. 하지만 기본 강화 보장이 높습니다(+5)."},{id:3,name:"예리한 태성",desc:"강화 성공시 50%의 확률로 대성공 합니다(성공시 추가로 1강 증가). 하지만 강화에 한번이라도 실패하면 게임오버(=강화 내구도 1) 입니다."},{id:4,name:"곽철용",desc:"무기 내구도가 2배(6회)입니다. 하지만 기본 강화 보장이 0이며, 강화 확률이 기본 확률 대비 80% 입니다."}];function ae(e){let n,t,r,c,a,i;return{c(){n=d("h5"),t=d("b"),r=f("+"),c=f(e[0]),a=p(),i=f(e[3])},m(e,l){u(e,n,l),o(n,t),o(t,r),o(t,c),o(n,a),o(n,i)},p(e,n){1&n&&$(c,e[0]),8&n&&$(i,e[3])},d(e){e&&s(n)}}}function ie(e){let n,t;return{c(){n=d("h5"),t=f(e[3])},m(e,r){u(e,n,r),o(n,t)},p(e,n){8&n&&$(t,e[3])},d(e){e&&s(n)}}}function le(n){let t,r,c,a,i,l,h;function f(e,n){return 0===e[0]?ie:ae}let g=f(n),y=g(n);return{c(){t=d("div"),r=d("img"),a=p(),i=d("br"),l=p(),y.c(),h=m(),r.src!==(c=n[2])&&b(r,"src",c),b(r,"width",n[1]),b(r,"alt",n[3]),b(t,"class","svelte-1qdcimq")},m(e,n){u(e,t,n),o(t,r),u(e,a,n),u(e,i,n),u(e,l,n),y.m(e,n),u(e,h,n)},p(e,[n]){4&n&&r.src!==(c=e[2])&&b(r,"src",c),2&n&&b(r,"width",e[1]),8&n&&b(r,"alt",e[3]),g===(g=f(e))&&y?y.p(e,n):(y.d(1),y=g(e),y&&(y.c(),y.m(h.parentNode,h)))},i:e,o:e,d(e){e&&s(t),e&&s(a),e&&s(i),e&&s(l),y.d(e),e&&s(h)}}}function oe(e,n,t){let{step:r=0}=n,c=50,a="",i="";return e.$$set=e=>{"step"in e&&t(0,r=e.step)},e.$$.update=()=>{1&e.$$.dirty&&t(1,c=50+5*r),1&e.$$.dirty&&(e=>{switch(e){case 0:case 1:t(2,a="./12.png");break;case 2:case 3:t(2,a="./34.png");break;case 4:case 5:t(2,a="./56.png");break;case 6:case 7:t(2,a="./78.png");break;case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:t(2,a="./90.png")}switch(e){case 0:t(3,i="흔한 검");break;case 1:t(3,i="덜 흔한 검");break;case 2:t(3,i="익숙해진 검");break;case 3:t(3,i="검");break;case 4:t(3,i="일반 검");break;case 5:t(3,i="괜찮은 검");break;case 6:t(3,i="좋은 검");break;case 7:t(3,i="명검");break;case 8:t(3,i="기적의 검");break;case 9:t(3,i="전설의 검");break;case 10:case 11:case 12:case 13:case 14:case 15:case 16:t(3,i="세계관 최강의 검")}})(r)},[r,c,a,i]}class ue extends U{constructor(e){super(),R(this,e,oe,le,a,{step:0})}}function se(e,n,t){const r=e.slice();return r[14]=n[t],r}function he(e){let n,t,r,c,a,i,l,h,m,g=e[0].name+"";return{c(){n=d("b"),t=f(g),r=p(),c=d("br"),a=p(),i=f(e[4]),l=p(),h=d("img"),h.src!==(m="./c"+e[0].charType+".png")&&b(h,"src",m),b(h,"width","20"),b(h,"height","20"),b(h,"alt","")},m(e,s){u(e,n,s),o(n,t),u(e,r,s),u(e,c,s),u(e,a,s),u(e,i,s),u(e,l,s),u(e,h,s)},p(e,n){1&n&&g!==(g=e[0].name+"")&&$(t,g),16&n&&$(i,e[4]),1&n&&h.src!==(m="./c"+e[0].charType+".png")&&b(h,"src",m)},d(e){e&&s(n),e&&s(r),e&&s(c),e&&s(a),e&&s(i),e&&s(l),e&&s(h)}}}function de(e){let n,t,r;return{c(){n=d("input"),b(n,"class","form-control")},m(c,a){u(c,n,a),v(n,e[0].name),t||(r=g(n,"input",e[9]),t=!0)},p(e,t){1&t&&n.value!==e[0].name&&v(n,e[0].name)},d(e){e&&s(n),t=!1,r()}}}function fe(e){let n,t,r,c,a,i,l,f,m,y=ce,$=[];for(let n=0;n<y.length;n+=1)$[n]=pe(se(e,y,n));return{c(){n=d("img"),r=p(),c=d("br"),a=p(),i=d("label"),l=d("select");for(let e=0;e<$.length;e+=1)$[e].c();n.src!==(t="./c"+e[0].charType+".png")&&b(n,"src",t),b(n,"width","100"),b(n,"height","100"),b(n,"alt",""),b(l,"class","form-control"),void 0===e[0].charType&&D(()=>e[10].call(l))},m(t,s){u(t,n,s),u(t,r,s),u(t,c,s),u(t,a,s),u(t,i,s),o(i,l);for(let e=0;e<$.length;e+=1)$[e].m(l,null);w(l,e[0].charType),f||(m=g(l,"change",e[10]),f=!0)},p(e,r){if(1&r&&n.src!==(t="./c"+e[0].charType+".png")&&b(n,"src",t),0&r){let n;for(y=ce,n=0;n<y.length;n+=1){const t=se(e,y,n);$[n]?$[n].p(t,r):($[n]=pe(t),$[n].c(),$[n].m(l,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=y.length}1&r&&w(l,e[0].charType)},d(e){e&&s(n),e&&s(r),e&&s(c),e&&s(a),e&&s(i),h($,e),f=!1,m()}}}function pe(n){let t,r,c,a=n[14].name+"";return{c(){t=d("option"),r=f(a),t.__value=c=n[14].id,t.value=t.__value},m(e,n){u(e,t,n),o(t,r)},p:e,d(e){e&&s(t)}}}function me(e){let n,t,r,c,a;n=new ue({props:{step:e[0].weaponEnhance}});let i=e[1]&&e[0].gameOver&&ge(),l=e[1]&&!e[0].gameOver&&be(e);return{c(){J(n.$$.fragment),t=p(),i&&i.c(),r=p(),l&&l.c(),c=m()},m(e,o){K(n,e,o),u(e,t,o),i&&i.m(e,o),u(e,r,o),l&&l.m(e,o),u(e,c,o),a=!0},p(e,t){const a={};1&t&&(a.step=e[0].weaponEnhance),n.$set(a),e[1]&&e[0].gameOver?i||(i=ge(),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null),e[1]&&!e[0].gameOver?l?(l.p(e,t),3&t&&P(l,1)):(l=be(e),l.c(),P(l,1),l.m(c.parentNode,c)):l&&(j(),F(l,1,1,()=>{l=null}),B())},i(e){a||(P(n.$$.fragment,e),P(l),a=!0)},o(e){F(n.$$.fragment,e),F(l),a=!1},d(e){Q(n,e),e&&s(t),i&&i.d(e),e&&s(r),l&&l.d(e),e&&s(c)}}}function ge(e){let n,t,r,c;return{c(){var e,a,i;n=d("br"),t=d("span"),t.textContent="게임 오버!",r=d("br"),c=d("br"),e="color",a="black",t.style.setProperty(e,a,i?"important":"")},m(e,a){u(e,n,a),u(e,t,a),u(e,r,a),u(e,c,a)},d(e){e&&s(n),e&&s(t),e&&s(r),e&&s(c)}}}function be(e){let n,t,r,c,a,i,l,o,h,g,b,y,v,w=e[0].enhanceWarranty+"";c=new Y({props:{durability:e[0].enhanceDurability}});let _=0===e[6]&&ye(e);return{c(){n=d("b"),n.textContent="남은 강화 내구도",t=d("br"),r=p(),J(c.$$.fragment),a=p(),i=d("br"),l=p(),o=d("b"),o.textContent="강화 보장",h=f(" +"),g=f(w),b=p(),_&&_.c(),y=m()},m(e,s){u(e,n,s),u(e,t,s),u(e,r,s),K(c,e,s),u(e,a,s),u(e,i,s),u(e,l,s),u(e,o,s),u(e,h,s),u(e,g,s),u(e,b,s),_&&_.m(e,s),u(e,y,s),v=!0},p(e,n){const t={};1&n&&(t.durability=e[0].enhanceDurability),c.$set(t),(!v||1&n)&&w!==(w=e[0].enhanceWarranty+"")&&$(g,w),0===e[6]?_?_.p(e,n):(_=ye(e),_.c(),_.m(y.parentNode,y)):_&&(_.d(1),_=null)},i(e){v||(P(c.$$.fragment,e),v=!0)},o(e){F(c.$$.fragment,e),v=!1},d(e){e&&s(n),e&&s(t),e&&s(r),Q(c,e),e&&s(a),e&&s(i),e&&s(l),e&&s(o),e&&s(h),e&&s(g),e&&s(b),_&&_.d(e),e&&s(y)}}}function ye(e){let n,t,r,c,a,i,l,h;function f(e,n){return e[0].enhanceWarranty>e[0].weaponEnhance?ve:$e}let m=f(e),y=m(e);return{c(){n=d("br"),t=p(),r=d("div"),c=d("b"),c.textContent="강화 도전!!!",a=d("br"),i=p(),y.c(),b(r,"class","btn btn-lg btn-warning")},m(s,d){u(s,n,d),u(s,t,d),u(s,r,d),o(r,c),o(r,a),o(r,i),y.m(r,null),l||(h=g(r,"click",e[7]),l=!0)},p(e,n){m===(m=f(e))&&y?y.p(e,n):(y.d(1),y=m(e),y&&(y.c(),y.m(r,null)))},d(e){e&&s(n),e&&s(t),e&&s(r),y.d(),l=!1,h()}}}function $e(e){let n,t,r,c,a=Math.round(100*e[2])+"";return{c(){n=d("small"),t=f("성공확률: "),r=f(a),c=f("%")},m(e,a){u(e,n,a),o(n,t),o(n,r),o(n,c)},p(e,n){4&n&&a!==(a=Math.round(100*e[2])+"")&&$(r,a)},d(e){e&&s(n)}}}function ve(n){let t;return{c(){t=d("small"),t.textContent="강화 보장 구간"},m(e,n){u(e,t,n)},p:e,d(e){e&&s(t)}}}function we(e){let n,t,r,c,a,i,l;function h(e,n){return e[1]?he:de}let f=h(e),m=f(e),g=!e[1]&&fe(e),y=e[1]&&me(e);return{c(){n=d("div"),m.c(),t=p(),r=d("hr"),c=p(),g&&g.c(),a=p(),y&&y.c(),b(n,"class","playerContainer svelte-19cwalf"),b(n,"recentstate",e[3]),b(n,"isautoplaying",i=e[6]>0&&e[1]&&!e[0].gameOver)},m(i,s){u(i,n,s),m.m(n,null),o(n,t),o(n,r),o(n,c),g&&g.m(n,null),o(n,a),y&&y.m(n,null),e[11](n),l=!0},p(e,[r]){f===(f=h(e))&&m?m.p(e,r):(m.d(1),m=f(e),m&&(m.c(),m.m(n,t))),e[1]?g&&(g.d(1),g=null):g?g.p(e,r):(g=fe(e),g.c(),g.m(n,a)),e[1]?y?(y.p(e,r),2&r&&P(y,1)):(y=me(e),y.c(),P(y,1),y.m(n,null)):y&&(j(),F(y,1,1,()=>{y=null}),B()),(!l||8&r)&&b(n,"recentstate",e[3]),(!l||67&r&&i!==(i=e[6]>0&&e[1]&&!e[0].gameOver))&&b(n,"isautoplaying",i)},i(e){l||(P(y),l=!0)},o(e){F(y),l=!1},d(t){t&&s(n),m.d(),g&&g.d(),y&&y.d(),e[11](null)}}}function _e(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function ke(e,n,t){let r;i(e,re,e=>t(6,r=e));let{playerInfo:c={uid:0,id:0,name:"",charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1}}=n,{handleGameOver:a=(()=>{})}=n,{isGameStarted:l=!1}=n,o=1;const u="Failed",s="BigFailed",h="Success",d="BigSuccess";let f,p="NothingHappened",m="";function g(){c.gameOver||(c.weaponEnhance<c.enhanceWarranty||_e(1,100)<100*o?(t(3,p=h),t(0,c.weaponEnhance++,c),3===c.charType&&_e(1,100)<=50&&(t(3,p=d),t(0,c.weaponEnhance++,c))):(t(3,p=u),t(0,c.enhanceDurability-=1,c),_e(1,100)<=30&&c.weaponEnhance>0&&(t(3,p=s),t(0,c.weaponEnhance-=1,c)),0===c.enhanceDurability&&t(0,c.gameOver=!0,c)),c.weaponEnhance<10?(t(2,o=1-.1*(c.weaponEnhance-2)),o>1&&t(2,o=1)):t(2,o=.01),2===c.charType?t(2,o*=.5):4===c.charType&&t(2,o*=.8))}return te.subscribe(e=>{e===ne.Started&&function(){0===c.charType&&t(0,c.charType=_e(1,4),c);2===c.charType&&(t(0,c.enhanceWarranty=5,c),t(2,o=.5));3===c.charType&&t(0,c.enhanceDurability=1,c);4===c.charType&&(t(0,c.enhanceDurability=6,c),t(0,c.enhanceWarranty=0,c),t(2,o=.8))}()}),re.subscribe(e=>{l&&g()}),e.$$set=e=>{"playerInfo"in e&&t(0,c=e.playerInfo),"handleGameOver"in e&&t(8,a=e.handleGameOver),"isGameStarted"in e&&t(1,l=e.isGameStarted)},e.$$.update=()=>{1&e.$$.dirty&&t(4,m=ce[c.charType].name),257&e.$$.dirty&&c.gameOver&&a()},[c,l,o,p,m,f,r,g,a,function(){c.name=this.value,t(0,c)},function(){c.charType=function(e){const n=e.querySelector(":checked")||e.options[0];return n&&n.__value}(this),t(0,c)},function(e){T[e?"unshift":"push"](()=>{f=e,t(5,f)})}]}class Ee extends U{constructor(e){super(),R(this,e,ke,we,a,{playerInfo:0,handleGameOver:8,isGameStarted:1})}}function xe(e,n,t){const r=e.slice();return r[22]=n[t],r}function Te(e,n,t){const r=e.slice();return r[25]=n[t],r}function Oe(e){let n,t,c,a,i,l,h,m,$,w,_,k,E,x,T,O,S,N,M,C,G,D,W;return{c(){n=d("h1"),n.textContent="운빨망겜",t=p(),c=d("p"),c.innerHTML="당신의 운을 시험해서 승자가 되세요.<br/>\n무기를 강화해 내기에서 승리하세요!",a=p(),i=d("label"),l=f("게임 인원 수:\r\n\t"),h=d("input"),m=p(),$=d("input"),w=p(),_=d("br"),k=f("\r\n\r\n내기 등수:\r\n"),E=d("label"),x=d("input"),O=f("\r\n  1등"),S=p(),N=d("label"),M=d("input"),G=f("\r\n    꼴등"),b(h,"type","number"),b(h,"min","1"),b(h,"max","10"),b($,"type","range"),b($,"min","1"),b($,"max","10"),b(x,"type","radio"),x.__value=T=1,x.value=x.__value,e[15][0].push(x),b(M,"type","radio"),M.__value=C=9999,M.value=M.__value,e[15][0].push(M)},m(r,s){u(r,n,s),u(r,t,s),u(r,c,s),u(r,a,s),u(r,i,s),o(i,l),o(i,h),v(h,e[3]),o(i,m),o(i,$),v($,e[3]),u(r,w,s),u(r,_,s),u(r,k,s),u(r,E,s),o(E,x),x.checked=x.__value===e[5],o(E,O),u(r,S,s),u(r,N,s),o(N,M),M.checked=M.__value===e[5],o(N,G),D||(W=[g(h,"input",e[12]),g($,"change",e[13]),g($,"input",e[13]),g(x,"change",e[14]),g(M,"change",e[16])],D=!0)},p(e,n){8&n&&y(h.value)!==e[3]&&v(h,e[3]),8&n&&v($,e[3]),32&n&&(x.checked=x.__value===e[5]),32&n&&(M.checked=M.__value===e[5])},d(l){l&&s(n),l&&s(t),l&&s(c),l&&s(a),l&&s(i),l&&s(w),l&&s(_),l&&s(k),l&&s(E),e[15][0].splice(e[15][0].indexOf(x),1),l&&s(S),l&&s(N),e[15][0].splice(e[15][0].indexOf(M),1),D=!1,r(W)}}}function Se(e,n){let t,r,c;return r=new Ee({props:{playerInfo:n[25],isGameStarted:n[0],handleGameOver:n[11]}}),{key:e,first:null,c(){t=m(),J(r.$$.fragment),this.first=t},m(e,n){u(e,t,n),K(r,e,n),c=!0},p(e,n){const t={};64&n&&(t.playerInfo=e[25]),1&n&&(t.isGameStarted=e[0]),r.$set(t)},i(e){c||(P(r.$$.fragment,e),c=!0)},o(e){F(r.$$.fragment,e),c=!1},d(e){e&&s(t),Q(r,e)}}}function Ne(n){let t,r,c;return{c(){t=d("div"),t.innerHTML="<h2>게임 시작!</h2>",b(t,"class","btn btn-md btn-primary")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[17]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function Me(n){let t,r,c;return{c(){t=d("div"),t.innerHTML="<h2>게임 자동 진행</h2>",b(t,"class","btn btn-lg btn-info")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[18]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function Ce(e){let n,t,r;function c(e,n){return e[2]?De:Ge}let a=c(e),i=a(e);return{c(){t=p(),i.c(),r=m(),n=new _(t)},m(c,a){n.m(e[7],c,a),u(c,t,a),i.m(c,a),u(c,r,a)},p(e,t){128&t&&n.p(e[7]),a===(a=c(e))&&i?i.p(e,t):(i.d(1),i=a(e),i&&(i.c(),i.m(r.parentNode,r)))},d(e){e&&n.d(),e&&s(t),i.d(e),e&&s(r)}}}function Ge(n){let t,r,c;return{c(){t=d("div"),t.textContent="게임 재시작",b(t,"class","btn btn-md btn-danger")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[20]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function De(n){let t,r,c;return{c(){t=d("div"),t.innerHTML="<h2>동점자 리매치</h2>\n동점자들끼리 내구도 1로 현재 상태에서 강화를 추가로 시도합니다.",b(t,"class","btn btn-md btn-primary")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[19]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function We(e){let n,t,r,c,a,i,l,o=ce,f=[];for(let n=0;n<o.length;n+=1)f[n]=Le(xe(e,o,n));return{c(){n=d("h3"),n.textContent="튜토리얼",t=p(),r=d("ol"),r.innerHTML="<li>게임이 사직되면, 각 플레이어는 각 플레이어의 특성에 맞는 스탯을 부여 받습니다.</li> \n  <li>무기 강화를 시도하게 되면, 강화도가 1 상승하거나, 유지되거나, 하락할 수 있습니다.</li> \n  <li>각 플레이어는 무기의 내구도가 모두 소모될 때까지 강화를 계속 시도 해야 합니다.</li> \n  <li>모든 플레이어의 강화가 끝나면, 처음에 설정한 순위의 사람이 당첨 되게 됩니다.</li> \n  <li>순위는 무기 강화도가 높은 사람이 높습니다. 만약 동점자가 있다면 동점자끼리 간이 재경기가 시작됩니다.</li> \n  <li>게임이 시작되면 자동 진행을 할 수 있으며, 자동진행을 하게 되면 모든 플레이어의 강화가 끝날 때까지 게임이 지속 됩니다.</li>",c=p(),a=d("h4"),a.textContent="캐릭터 특성 설명",i=p(),l=d("ul");for(let e=0;e<f.length;e+=1)f[e].c()},m(e,o){u(e,n,o),u(e,t,o),u(e,r,o),u(e,c,o),u(e,a,o),u(e,i,o),u(e,l,o);for(let e=0;e<f.length;e+=1)f[e].m(l,null)},p(e,n){if(0&n){let t;for(o=ce,t=0;t<o.length;t+=1){const r=xe(e,o,t);f[t]?f[t].p(r,n):(f[t]=Le(r),f[t].c(),f[t].m(l,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=o.length}},d(e){e&&s(n),e&&s(t),e&&s(r),e&&s(c),e&&s(a),e&&s(i),e&&s(l),h(f,e)}}}function Le(n){let t,r,c,a,i=n[22].name+"",l=n[22].desc+"";return{c(){t=d("li"),r=f(i),c=f(": "),a=f(l)},m(e,n){u(e,t,n),o(t,r),o(t,c),o(t,a)},p:e,d(e){e&&s(t)}}}function Ae(e){let n,t,r,c,a,i,l,h,f,g,y,$,v=[],w=new Map,_=!e[0]&&Oe(e),k=e[6];const E=e=>e[25].uid;for(let n=0;n<k.length;n+=1){let t=Te(e,k,n),r=E(t);w.set(r,v[n]=Se(r,t))}let x=!e[0]&&Ne(e),T=e[0]&&!e[1]&&!e[9]&&Me(e),O=e[1]&&Ce(e),S=!e[0]&&We(e);return{c(){_&&_.c(),n=p(),t=d("div");for(let e=0;e<v.length;e+=1)v[e].c();r=p(),c=d("div"),x&&x.c(),a=p(),T&&T.c(),i=p(),O&&O.c(),l=p(),h=d("br"),f=d("br"),g=p(),S&&S.c(),y=m(),b(t,"class","cardArea svelte-1q59uft"),b(c,"class","resultArea svelte-1q59uft")},m(e,s){_&&_.m(e,s),u(e,n,s),u(e,t,s);for(let e=0;e<v.length;e+=1)v[e].m(t,null);u(e,r,s),u(e,c,s),x&&x.m(c,null),o(c,a),T&&T.m(c,null),o(c,i),O&&O.m(c,null),u(e,l,s),u(e,h,s),u(e,f,s),u(e,g,s),S&&S.m(e,s),u(e,y,s),$=!0},p(e,[r]){if(e[0]?_&&(_.d(1),_=null):_?_.p(e,r):(_=Oe(e),_.c(),_.m(n.parentNode,n)),2113&r){const n=e[6];j(),v=function(e,n,t,r,c,a,i,l,o,u,s,h){let d=e.length,f=a.length,p=d;const m={};for(;p--;)m[e[p].key]=p;const g=[],b=new Map,y=new Map;for(p=f;p--;){const e=h(c,a,p),l=t(e);let o=i.get(l);o?r&&o.p(e,n):(o=u(l,e),o.c()),b.set(l,g[p]=o),l in m&&y.set(l,Math.abs(p-m[l]))}const $=new Set,v=new Set;function w(e){P(e,1),e.m(l,s),i.set(e.key,e),s=e.first,f--}for(;d&&f;){const n=g[f-1],t=e[d-1],r=n.key,c=t.key;n===t?(s=n.first,d--,f--):b.has(c)?!i.has(r)||$.has(r)?w(n):v.has(c)?d--:y.get(r)>y.get(c)?(v.add(r),w(n)):($.add(c),d--):(o(t,i),d--)}for(;d--;){const n=e[d];b.has(n.key)||o(n,i)}for(;f;)w(g[f-1]);return g}(v,r,E,1,e,n,w,t,z,Se,null,Te),B()}e[0]?x&&(x.d(1),x=null):x?x.p(e,r):(x=Ne(e),x.c(),x.m(c,a)),!e[0]||e[1]||e[9]?T&&(T.d(1),T=null):T?T.p(e,r):(T=Me(e),T.c(),T.m(c,i)),e[1]?O?O.p(e,r):(O=Ce(e),O.c(),O.m(c,null)):O&&(O.d(1),O=null),e[0]?S&&(S.d(1),S=null):S?S.p(e,r):(S=We(e),S.c(),S.m(y.parentNode,y))},i(e){if(!$){for(let e=0;e<k.length;e+=1)P(v[e]);$=!0}},o(e){for(let e=0;e<v.length;e+=1)F(v[e]);$=!1},d(e){_&&_.d(e),e&&s(n),e&&s(t);for(let e=0;e<v.length;e+=1)v[e].d();e&&s(r),e&&s(c),x&&x.d(),T&&T.d(),O&&O.d(),e&&s(l),e&&s(h),e&&s(f),e&&s(g),S&&S.d(e),e&&s(y)}}}function He(e,n){return e.weaponEnhance>n.weaponEnhance?-1:e.weaponEnhance<n.weaponEnhance?1:0}function qe(e){return new Promise(n=>setTimeout(n,e))}function Ie(e,n,t){let r,c;i(e,te,e=>t(8,r=e)),i(e,re,e=>t(9,c=e));let a=!1,o=!1,u=!1,s=4,h=[],d=9999,f=0,p=[{uid:-1,id:1,name:"",charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1},{uid:-1,id:2,name:"",charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1}];function m(e){t(6,p=[]);for(let n=0;n<e;n++)p.push({uid:f,id:n+1,name:"플레이어 #"+(n+1),charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1}),f++}let g="";return e.$$.update=()=>{8&e.$$.dirty&&m(s)},[a,o,u,s,h,d,p,g,r,c,m,function(){let e=!0;for(const n of p)!1===n.gameOver&&(e=!1);if(e){t(1,o=!0);let e=99999,n=-1,r=-1;t(4,h=[]);let c=[];t(7,g="");const a=[...p].sort(He);n=a[0].weaponEnhance,r=a[a.length-1].weaponEnhance;for(const t of a)e>t.weaponEnhance&&(e=t.weaponEnhance),1===d?t.weaponEnhance===n&&(h.push(t),c.push(t.name)):9999===d&&t.weaponEnhance===r&&(h.push(t),c.push(t.name));1===h.length?(t(7,g+=`<hr><h4>${h[0].name} 님, ${1===d?"1":"꼴"}등 축하드립니다.</h4>`),t(7,g+="기분 좋은 마음으로 커피를 쏘면 어떨까요?<br>")):(t(7,g+=`<hr><h4>${1===d?"1":"꼴"}등에 대한 동점자가 나왔군요!</h4><br><b>대상자: `+c.join(" 님, ")+" 님.</b><br>"),t(7,g+="동점자끼리 재경기를 원하시면 아래 버튼을 눌러주세요.<br>"),t(2,u=!0))}},function(){s=y(this.value),t(3,s)},function(){s=y(this.value),t(3,s)},function(){d=this.__value,t(5,d)},[[]],function(){d=this.__value,t(5,d)},()=>{t(0,a=!0),l(te,r=ne.Started,r)},()=>{(async()=>{for(;!o;)l(re,c+=1,c),await G(),await qe(400)})()},()=>{(async()=>{t(1,o=!1),t(0,a=!0),t(2,u=!1),l(te,r=ne.NotStarted,r),l(re,c=0,c),t(4,h=h.map(e=>(e.enhanceDurability+=1,e.gameOver=!1,e))),t(6,p=h),await G()})()},()=>{t(1,o=!1),t(0,a=!1),t(2,u=!1),l(te,r=ne.NotStarted,r),l(re,c=0,c),m(s)}]}new class extends U{constructor(e){super(),R(this,e,Ie,Ae,a,{})}}({target:document.body})}();
//# sourceMappingURL=index.js.map
