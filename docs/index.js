!function(){"use strict";function e(){}function n(e){return e()}function t(){return Object.create(null)}function r(e){e.forEach(n)}function c(e){return"function"==typeof e}function a(e,n){return e!=e?n==n:e!==n||e&&"object"==typeof e||"function"==typeof e}function l(n,t,r){n.$$.on_destroy.push(function(n,...t){if(null==n)return e;const r=n.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}(t,r))}function i(e,n,t=n){return e.set(t),n}function o(e,n){e.appendChild(n)}function u(e,n,t){e.insertBefore(n,t||null)}function s(e){e.parentNode.removeChild(e)}function h(e,n){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(n)}function d(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function f(){return p(" ")}function m(){return p("")}function g(e,n,t,r){return e.addEventListener(n,t,r),()=>e.removeEventListener(n,t,r)}function b(e,n,t){null==t?e.removeAttribute(n):e.getAttribute(n)!==t&&e.setAttribute(n,t)}function y(e){return""===e?null:+e}function $(e,n){n=""+n,e.wholeText!==n&&(e.data=n)}function v(e,n){e.value=null==n?"":n}function w(e,n,t,r){e.style.setProperty(n,t,r?"important":"")}function _(e,n){for(let t=0;t<e.options.length;t+=1){const r=e.options[t];if(r.__value===n)return void(r.selected=!0)}}class k{constructor(e=null){this.a=e,this.e=this.n=null}m(e,n,t=null){this.e||(this.e=d(n.nodeName),this.t=n,this.h(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)u(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(s)}}let E;function T(e){E=e}const x=[],O=[],S=[],N=[],M=Promise.resolve();let C=!1;function G(){C||(C=!0,M.then(A))}function D(){return G(),M}function W(e){S.push(e)}let H=!1;const L=new Set;function A(){if(!H){H=!0;do{for(let e=0;e<x.length;e+=1){const n=x[e];T(n),q(n.$$)}for(T(null),x.length=0;O.length;)O.pop()();for(let e=0;e<S.length;e+=1){const n=S[e];L.has(n)||(L.add(n),n())}S.length=0}while(x.length);for(;N.length;)N.pop()();C=!1,H=!1,L.clear()}}function q(e){if(null!==e.fragment){e.update(),r(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(W)}}const I=new Set;let z;function j(){z={r:0,c:[],p:z}}function B(){z.r||r(z.c),z=z.p}function P(e,n){e&&e.i&&(I.delete(e),e.i(n))}function F(e,n,t,r){if(e&&e.o){if(I.has(e))return;I.add(e),z.c.push(()=>{I.delete(e),r&&(t&&e.d(1),r())}),e.o(n)}}function R(e,n){F(e,1,1,()=>{n.delete(e.key)})}function V(e){e&&e.c()}function J(e,t,a){const{fragment:l,on_mount:i,on_destroy:o,after_update:u}=e.$$;l&&l.m(t,a),W(()=>{const t=i.map(n).filter(c);o?o.push(...t):r(t),e.$$.on_mount=[]}),u.forEach(W)}function K(e,n){const t=e.$$;null!==t.fragment&&(r(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function Q(n,c,a,l,i,o,u=[-1]){const h=E;T(n);const d=c.props||{},p=n.$$={fragment:null,ctx:null,props:o,update:e,not_equal:i,bound:t(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:t(),dirty:u,skip_bound:!1};let f=!1;if(p.ctx=a?a(n,d,(e,t,...r)=>{const c=r.length?r[0]:t;return p.ctx&&i(p.ctx[e],p.ctx[e]=c)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](c),f&&function(e,n){-1===e.$$.dirty[0]&&(x.push(e),G(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}(n,e)),t}):[],p.update(),f=!0,r(p.before_update),p.fragment=!!l&&l(p.ctx),c.target){if(c.hydrate){const e=function(e){return Array.from(e.childNodes)}(c.target);p.fragment&&p.fragment.l(e),e.forEach(s)}else p.fragment&&p.fragment.c();c.intro&&P(n.$$.fragment),J(n,c.target,c.anchor),A()}T(h)}class U{$destroy(){K(this,1),this.$destroy=e}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const e=t.indexOf(n);-1!==e&&t.splice(e,1)}}$set(e){var n;this.$$set&&(n=e,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function X(n){let t,r;return{c(){t=d("small"),r=p(n[0])},m(e,n){u(e,t,n),o(t,r)},p(e,[n]){1&n&&$(r,e[0])},i:e,o:e,d(e){e&&s(t)}}}function Y(e,n,t){let{durability:r=3}=n,c="";return e.$$set=e=>{"durability"in e&&t(1,r=e.durability)},e.$$.update=()=>{2&e.$$.dirty&&(e=>{let n="";for(let t=0;t<e;t++)n+="■";t(0,c=n),0===e&&(n="없음")})(r)},[c,r]}class Z extends U{constructor(e){super(),Q(this,e,Y,X,a,{durability:1})}}const ee=[];function ne(n,t=e){let r;const c=[];function l(e){if(a(n,e)&&(n=e,r)){const e=!ee.length;for(let e=0;e<c.length;e+=1){const t=c[e];t[1](),ee.push(t,n)}if(e){for(let e=0;e<ee.length;e+=2)ee[e][0](ee[e+1]);ee.length=0}}}return{set:l,update:function(e){l(e(n))},subscribe:function(a,i=e){const o=[a,i];return c.push(o),1===c.length&&(r=t(l)||e),a(n),()=>{const e=c.indexOf(o);-1!==e&&c.splice(e,1),0===c.length&&(r(),r=null)}}}}const te={NotStated:0,Started:1,GameOver:2},re=ne(te.NotStated),ce=ne(0),ae=[{id:0,name:"랜덤",desc:"랜덤으로 강화를 시도할 캐릭터를 고릅니다."},{id:1,name:"흑우",desc:"보통의 무기 내구도(3회)와 보통의 강화보장(+3), 평범한 운을 가진 캐릭터"},{id:2,name:"주유",desc:"강화 확률이 절반 입니다. 하지만 강화 보장이 높습니다(+5)."},{id:3,name:"예리한 태성",desc:"강화 성공시 50%의 확률로 대성공 합니다(대성공시 추가로 1강 증가). 하지만 강화에 한번이라도 실패하면 게임오버(=강화 내구도 1) 입니다."},{id:4,name:"곽철용",desc:"무기 내구도가 2배(6회)입니다. 하지만 강화 보장이 0이며, 강화 확률이 기본 확률 대비 80% 입니다."},{id:5,name:"벤자민",desc:"11강에서 시작합니다. 다른캐릭터와 반대로 강화수치가 적용됩니다(성공시 감소, 대실패시 증가). 높은 강화상태일수록 성공률이 높습니다."}];function le(e){let n,t,r,c,a,l;return{c(){n=d("h6"),t=d("b"),r=p("+"),c=p(e[0]),a=f(),l=p(e[3])},m(e,i){u(e,n,i),o(n,t),o(t,r),o(t,c),o(n,a),o(n,l)},p(e,n){1&n&&$(c,e[0]),8&n&&$(l,e[3])},d(e){e&&s(n)}}}function ie(e){let n,t;return{c(){n=d("h6"),t=p(e[3])},m(e,r){u(e,n,r),o(n,t)},p(e,n){8&n&&$(t,e[3])},d(e){e&&s(n)}}}function oe(n){let t,r,c,a,l,i,h;function p(e,n){return 0===e[0]?ie:le}let g=p(n),y=g(n);return{c(){t=d("div"),r=d("img"),a=f(),l=d("br"),i=f(),y.c(),h=m(),r.src!==(c=n[2])&&b(r,"src",c),b(r,"width",n[1]),b(r,"alt",n[3]),b(t,"class","svelte-1qdcimq")},m(e,n){u(e,t,n),o(t,r),u(e,a,n),u(e,l,n),u(e,i,n),y.m(e,n),u(e,h,n)},p(e,[n]){4&n&&r.src!==(c=e[2])&&b(r,"src",c),2&n&&b(r,"width",e[1]),8&n&&b(r,"alt",e[3]),g===(g=p(e))&&y?y.p(e,n):(y.d(1),y=g(e),y&&(y.c(),y.m(h.parentNode,h)))},i:e,o:e,d(e){e&&s(t),e&&s(a),e&&s(l),e&&s(i),y.d(e),e&&s(h)}}}function ue(e,n,t){let{step:r=0}=n,c=50,a="",l="";return e.$$set=e=>{"step"in e&&t(0,r=e.step)},e.$$.update=()=>{1&e.$$.dirty&&t(1,c=50+4*r),1&e.$$.dirty&&(e=>{switch(t(2,a="./"+(e<11?e:11)+".png"),e){case 0:t(3,l="단검");break;case 1:t(3,l="단도");break;case 2:t(3,l="검");break;case 3:t(3,l="시퍼런 검");break;case 4:t(3,l="용사의 검");break;case 5:t(3,l="이터널 러브");break;case 6:t(3,l="아이스 소드");break;case 7:t(3,l="에메랄드 소드");break;case 8:t(3,l="지옥의 검");break;case 9:t(3,l="레드 세이버");break;case 10:t(3,l="그린 세이버");break;case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:t(3,l="블루 세이버")}})(r)},[r,c,a,l]}class se extends U{constructor(e){super(),Q(this,e,ue,oe,a,{step:0})}}function he(e,n,t){const r=e.slice();return r[14]=n[t],r}function de(e){let n,t,r,c,a,l,i,h,m,g=e[0].name+"";return{c(){n=d("b"),t=p(g),r=f(),c=d("br"),a=f(),l=p(e[4]),i=f(),h=d("img"),h.src!==(m="./c"+e[0].charType+".png")&&b(h,"src",m),b(h,"width","20"),b(h,"height","20"),b(h,"alt","")},m(e,s){u(e,n,s),o(n,t),u(e,r,s),u(e,c,s),u(e,a,s),u(e,l,s),u(e,i,s),u(e,h,s)},p(e,n){1&n&&g!==(g=e[0].name+"")&&$(t,g),16&n&&$(l,e[4]),1&n&&h.src!==(m="./c"+e[0].charType+".png")&&b(h,"src",m)},d(e){e&&s(n),e&&s(r),e&&s(c),e&&s(a),e&&s(l),e&&s(i),e&&s(h)}}}function pe(e){let n,t,r;return{c(){n=d("input"),b(n,"class","form-control")},m(c,a){u(c,n,a),v(n,e[0].name),t||(r=g(n,"input",e[9]),t=!0)},p(e,t){1&t&&n.value!==e[0].name&&v(n,e[0].name)},d(e){e&&s(n),t=!1,r()}}}function fe(e){let n,t,r,c,a,l,i,p,m,y=ae,$=[];for(let n=0;n<y.length;n+=1)$[n]=me(he(e,y,n));return{c(){n=d("img"),r=f(),c=d("br"),a=f(),l=d("label"),i=d("select");for(let e=0;e<$.length;e+=1)$[e].c();n.src!==(t="./c"+e[0].charType+".png")&&b(n,"src",t),b(n,"width","100"),b(n,"height","100"),b(n,"alt",""),b(i,"class","form-control"),void 0===e[0].charType&&W(()=>e[10].call(i))},m(t,s){u(t,n,s),u(t,r,s),u(t,c,s),u(t,a,s),u(t,l,s),o(l,i);for(let e=0;e<$.length;e+=1)$[e].m(i,null);_(i,e[0].charType),p||(m=g(i,"change",e[10]),p=!0)},p(e,r){if(1&r&&n.src!==(t="./c"+e[0].charType+".png")&&b(n,"src",t),0&r){let n;for(y=ae,n=0;n<y.length;n+=1){const t=he(e,y,n);$[n]?$[n].p(t,r):($[n]=me(t),$[n].c(),$[n].m(i,null))}for(;n<$.length;n+=1)$[n].d(1);$.length=y.length}1&r&&_(i,e[0].charType)},d(e){e&&s(n),e&&s(r),e&&s(c),e&&s(a),e&&s(l),h($,e),p=!1,m()}}}function me(n){let t,r,c,a=n[14].name+"";return{c(){t=d("option"),r=p(a),t.__value=c=n[14].id,t.value=t.__value},m(e,n){u(e,t,n),o(t,r)},p:e,d(e){e&&s(t)}}}function ge(e){let n,t,r,c,a;n=new se({props:{step:e[0].weaponEnhance}});let l=e[1]&&e[0].gameOver&&be(),i=e[1]&&!e[0].gameOver&&ye(e);return{c(){V(n.$$.fragment),t=f(),l&&l.c(),r=f(),i&&i.c(),c=m()},m(e,o){J(n,e,o),u(e,t,o),l&&l.m(e,o),u(e,r,o),i&&i.m(e,o),u(e,c,o),a=!0},p(e,t){const a={};1&t&&(a.step=e[0].weaponEnhance),n.$set(a),e[1]&&e[0].gameOver?l||(l=be(),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null),e[1]&&!e[0].gameOver?i?(i.p(e,t),3&t&&P(i,1)):(i=ye(e),i.c(),P(i,1),i.m(c.parentNode,c)):i&&(j(),F(i,1,1,()=>{i=null}),B())},i(e){a||(P(n.$$.fragment,e),P(i),a=!0)},o(e){F(n.$$.fragment,e),F(i),a=!1},d(e){K(n,e),e&&s(t),l&&l.d(e),e&&s(r),i&&i.d(e),e&&s(c)}}}function be(e){let n,t,r,c;return{c(){n=d("br"),t=d("span"),t.textContent="게임 오버!",r=d("br"),c=d("br"),w(t,"color","black")},m(e,a){u(e,n,a),u(e,t,a),u(e,r,a),u(e,c,a)},d(e){e&&s(n),e&&s(t),e&&s(r),e&&s(c)}}}function ye(e){let n,t,r,c,a,l,i,o,h,g,b,y,v,w=e[0].enhanceWarranty+"";c=new Z({props:{durability:e[0].enhanceDurability}});let _=0===e[6]&&$e(e);return{c(){n=d("b"),n.textContent="남은 강화 내구도",t=d("br"),r=f(),V(c.$$.fragment),a=f(),l=d("br"),i=f(),o=d("b"),o.textContent="강화 보장",h=p(" +"),g=p(w),b=f(),_&&_.c(),y=m()},m(e,s){u(e,n,s),u(e,t,s),u(e,r,s),J(c,e,s),u(e,a,s),u(e,l,s),u(e,i,s),u(e,o,s),u(e,h,s),u(e,g,s),u(e,b,s),_&&_.m(e,s),u(e,y,s),v=!0},p(e,n){const t={};1&n&&(t.durability=e[0].enhanceDurability),c.$set(t),(!v||1&n)&&w!==(w=e[0].enhanceWarranty+"")&&$(g,w),0===e[6]?_?_.p(e,n):(_=$e(e),_.c(),_.m(y.parentNode,y)):_&&(_.d(1),_=null)},i(e){v||(P(c.$$.fragment,e),v=!0)},o(e){F(c.$$.fragment,e),v=!1},d(e){e&&s(n),e&&s(t),e&&s(r),K(c,e),e&&s(a),e&&s(l),e&&s(i),e&&s(o),e&&s(h),e&&s(g),e&&s(b),_&&_.d(e),e&&s(y)}}}function $e(e){let n,t,r,c,a,l,i,h;function p(e,n){return e[0].enhanceWarranty>e[0].weaponEnhance?we:ve}let m=p(e),y=m(e);return{c(){n=d("br"),t=f(),r=d("div"),c=d("b"),c.textContent="강화 도전",a=d("br"),l=f(),y.c(),b(r,"class","btn btn-lg btn-warning svelte-18znslp")},m(s,d){u(s,n,d),u(s,t,d),u(s,r,d),o(r,c),o(r,a),o(r,l),y.m(r,null),i||(h=g(r,"click",e[7]),i=!0)},p(e,n){m===(m=p(e))&&y?y.p(e,n):(y.d(1),y=m(e),y&&(y.c(),y.m(r,null)))},d(e){e&&s(n),e&&s(t),e&&s(r),y.d(),i=!1,h()}}}function ve(e){let n,t,r,c,a=Math.round(100*e[2])+"";return{c(){n=d("small"),t=p("성공확률: "),r=p(a),c=p("%"),b(n,"class","svelte-18znslp")},m(e,a){u(e,n,a),o(n,t),o(n,r),o(n,c)},p(e,n){4&n&&a!==(a=Math.round(100*e[2])+"")&&$(r,a)},d(e){e&&s(n)}}}function we(n){let t;return{c(){t=d("small"),t.textContent="강화 보장 구간",b(t,"class","svelte-18znslp")},m(e,n){u(e,t,n)},p:e,d(e){e&&s(t)}}}function _e(e){let n,t,r,c,a,l,i;function h(e,n){return e[1]?de:pe}let p=h(e),m=p(e),g=!e[1]&&fe(e),y=e[1]&&ge(e);return{c(){n=d("div"),m.c(),t=f(),r=d("hr"),c=f(),g&&g.c(),a=f(),y&&y.c(),b(n,"class","playerContainer svelte-18znslp"),b(n,"recentstate",e[3]),b(n,"isautoplaying",l=e[6]>0&&e[1]&&!e[0].gameOver)},m(l,s){u(l,n,s),m.m(n,null),o(n,t),o(n,r),o(n,c),g&&g.m(n,null),o(n,a),y&&y.m(n,null),e[11](n),i=!0},p(e,[r]){p===(p=h(e))&&m?m.p(e,r):(m.d(1),m=p(e),m&&(m.c(),m.m(n,t))),e[1]?g&&(g.d(1),g=null):g?g.p(e,r):(g=fe(e),g.c(),g.m(n,a)),e[1]?y?(y.p(e,r),2&r&&P(y,1)):(y=ge(e),y.c(),P(y,1),y.m(n,null)):y&&(j(),F(y,1,1,()=>{y=null}),B()),(!i||8&r)&&b(n,"recentstate",e[3]),(!i||67&r&&l!==(l=e[6]>0&&e[1]&&!e[0].gameOver))&&b(n,"isautoplaying",l)},i(e){i||(P(y),i=!0)},o(e){F(y),i=!1},d(t){t&&s(n),m.d(),g&&g.d(),y&&y.d(),e[11](null)}}}function ke(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function Ee(e,n,t){let r;l(e,ce,e=>t(6,r=e));let{playerInfo:c={uid:0,id:0,name:"",charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1}}=n,{handleGameOver:a=(()=>{})}=n,{isGameStarted:i=!1}=n,o=1;const u="Failed",s="BigFailed",h="Success",d="BigSuccess";let p,f="NothingHappened",m="";function g(){c.gameOver||(c.weaponEnhance<c.enhanceWarranty||ke(1,100)<100*o?3===c.charType&&ke(1,100)<=50?(t(3,f=d),t(0,c.weaponEnhance+=2,c)):5===c.charType?(t(3,f=h),t(0,c.weaponEnhance--,c)):(t(3,f=h),t(0,c.weaponEnhance++,c)):(t(3,f=u),t(0,c.enhanceDurability-=1,c),ke(1,100)<=50&&c.weaponEnhance>0&&(t(3,f=s),5===c.charType?t(0,c.weaponEnhance+=1,c):t(0,c.weaponEnhance-=1,c)),0===c.enhanceDurability&&t(0,c.gameOver=!0,c)),c.weaponEnhance<10?(t(2,o=1-.1*(c.weaponEnhance-2)),o>1&&t(2,o=1)):t(2,o=.01),2===c.charType?t(2,o*=.5):4===c.charType?t(2,o*=.8):5===c.charType&&(t(2,o=1-.1*(11-c.weaponEnhance)),o<0&&t(2,o=0)))}return re.subscribe(e=>{e===te.Started&&function(){0===c.charType&&t(0,c.charType=ke(1,5),c);2===c.charType&&(t(0,c.enhanceWarranty=5,c),t(2,o=.5));3===c.charType&&t(0,c.enhanceDurability=1,c);4===c.charType&&(t(0,c.enhanceDurability=6,c),t(0,c.enhanceWarranty=0,c),t(2,o=.8));5===c.charType&&(t(0,c.weaponEnhance=11,c),t(0,c.enhanceDurability=3,c),t(0,c.enhanceWarranty=0,c),t(2,o=1))}()}),ce.subscribe(e=>{i&&g()}),e.$$set=e=>{"playerInfo"in e&&t(0,c=e.playerInfo),"handleGameOver"in e&&t(8,a=e.handleGameOver),"isGameStarted"in e&&t(1,i=e.isGameStarted)},e.$$.update=()=>{1&e.$$.dirty&&t(4,m=ae[c.charType].name),257&e.$$.dirty&&c.gameOver&&a()},[c,i,o,f,m,p,r,g,a,function(){c.name=this.value,t(0,c)},function(){c.charType=function(e){const n=e.querySelector(":checked")||e.options[0];return n&&n.__value}(this),t(0,c)},function(e){O[e?"unshift":"push"](()=>{p=e,t(5,p)})}]}class Te extends U{constructor(e){super(),Q(this,e,Ee,_e,a,{playerInfo:0,handleGameOver:8,isGameStarted:1})}}function xe(e,n,t){const r=e.slice();return r[22]=n[t],r}function Oe(e,n,t){const r=e.slice();return r[25]=n[t],r}function Se(e){let n,t,c,a,l,i,h,m,$,_,k,E,T,x,O,S,N,M,C,G,D,W,H;return{c(){n=d("h1"),n.textContent="운빨망겜",t=f(),c=d("p"),c.innerHTML="당신의 운을 시험해서 승자가 되세요.<br/>\n무기를 강화해 내기에서 승리하세요!",a=f(),l=d("label"),i=p("게임 인원 수:\r\n\t"),h=d("input"),m=f(),$=d("input"),_=f(),k=d("br"),E=p("\r\n\r\n내기 등수:\r\n"),T=d("label"),x=d("input"),S=p("\r\n  1등"),N=f(),M=d("label"),C=d("input"),D=p("\r\n    꼴등"),b(h,"type","number"),b(h,"min","1"),b(h,"max","20"),b($,"type","range"),b($,"min","1"),b($,"max","20"),w($,"width","250px"),b(x,"type","radio"),x.__value=O=1,x.value=x.__value,e[15][0].push(x),b(C,"type","radio"),C.__value=G=9999,C.value=C.__value,e[15][0].push(C)},m(r,s){u(r,n,s),u(r,t,s),u(r,c,s),u(r,a,s),u(r,l,s),o(l,i),o(l,h),v(h,e[3]),o(l,m),o(l,$),v($,e[3]),u(r,_,s),u(r,k,s),u(r,E,s),u(r,T,s),o(T,x),x.checked=x.__value===e[5],o(T,S),u(r,N,s),u(r,M,s),o(M,C),C.checked=C.__value===e[5],o(M,D),W||(H=[g(h,"input",e[12]),g($,"change",e[13]),g($,"input",e[13]),g(x,"change",e[14]),g(C,"change",e[16])],W=!0)},p(e,n){8&n&&y(h.value)!==e[3]&&v(h,e[3]),8&n&&v($,e[3]),32&n&&(x.checked=x.__value===e[5]),32&n&&(C.checked=C.__value===e[5])},d(i){i&&s(n),i&&s(t),i&&s(c),i&&s(a),i&&s(l),i&&s(_),i&&s(k),i&&s(E),i&&s(T),e[15][0].splice(e[15][0].indexOf(x),1),i&&s(N),i&&s(M),e[15][0].splice(e[15][0].indexOf(C),1),W=!1,r(H)}}}function Ne(e,n){let t,r,c;return r=new Te({props:{playerInfo:n[25],isGameStarted:n[0],handleGameOver:n[11]}}),{key:e,first:null,c(){t=m(),V(r.$$.fragment),this.first=t},m(e,n){u(e,t,n),J(r,e,n),c=!0},p(e,n){const t={};64&n&&(t.playerInfo=e[25]),1&n&&(t.isGameStarted=e[0]),r.$set(t)},i(e){c||(P(r.$$.fragment,e),c=!0)},o(e){F(r.$$.fragment,e),c=!1},d(e){e&&s(t),K(r,e)}}}function Me(n){let t,r,c;return{c(){t=d("div"),t.innerHTML="<h2>게임 시작!</h2>",b(t,"class","btn btn-md btn-primary")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[17]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function Ce(n){let t,r,c;return{c(){t=d("div"),t.innerHTML="<h2>게임 자동 진행</h2>",b(t,"class","btn btn-lg btn-info")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[18]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function Ge(e){let n,t,r;function c(e,n){return e[2]?We:De}let a=c(e),l=a(e);return{c(){t=f(),l.c(),r=m(),n=new k(t)},m(c,a){n.m(e[7],c,a),u(c,t,a),l.m(c,a),u(c,r,a)},p(e,t){128&t&&n.p(e[7]),a===(a=c(e))&&l?l.p(e,t):(l.d(1),l=a(e),l&&(l.c(),l.m(r.parentNode,r)))},d(e){e&&n.d(),e&&s(t),l.d(e),e&&s(r)}}}function De(n){let t,r,c;return{c(){t=d("div"),t.textContent="게임 재시작",b(t,"class","btn btn-md btn-danger")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[20]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function We(n){let t,r,c;return{c(){t=d("div"),t.innerHTML="<h2>동점자 리매치</h2>\n동점자들끼리 내구도 1로 현재 상태에서 강화를 추가로 시도합니다.",b(t,"class","btn btn-md btn-primary")},m(e,a){u(e,t,a),r||(c=g(t,"click",n[19]),r=!0)},p:e,d(e){e&&s(t),r=!1,c()}}}function He(e){let n,t,r,c,a,l,i,o,m,g,b,y,$,v,w,_=ae,k=[];for(let n=0;n<_.length;n+=1)k[n]=Le(xe(e,_,n));return{c(){n=d("h3"),n.textContent="튜토리얼",t=f(),r=d("ol"),r.innerHTML="<li>게임이 사직되면, 각 플레이어는 각 플레이어의 특성에 맞는 스탯을 부여 받습니다.</li> \n  <li>무기 강화를 시도하게 되면, 강화도가 1 상승하거나(성공), 유지되거나(실패), 하락할 수 있습니다(대실패).</li> \n  <li>각 플레이어는 무기의 내구도가 모두 소모될 때까지 강화를 계속 시도 해야 합니다.</li> \n  <li>모든 플레이어의 강화가 끝나면(=모든 플레이어의 무기 내구도가 모두 소모되면), 게임 시작시 설정한 순위의 사람이 당첨됩니다.</li> \n  <li>순위는 무기 강화도가 높은 사람이 높습니다. 만약 동점자가 있다면 동점자끼리 간이 재경기가 시작됩니다.</li> \n  <li>재경기 시에는 재경기에 돌입하는 사람들이 내구도 1을 추가로 받아 번외 경기가 시작됩니다.</li> \n  <li>게임이 시작되면 자동진행이 가능합니다. 자동진행시 모든 플레이어의 강화가 끝날 때까지 강화가 계속 시도 됩니다.</li>",c=f(),a=d("h4"),a.textContent="캐릭터 특성 설명",l=f(),i=d("ul");for(let e=0;e<k.length;e+=1)k[e].c();o=f(),m=d("b"),m.textContent="Ver 2020/10/29",g=d("br"),b=f(),y=d("b"),y.textContent="Made by",$=p(" Readiz"),v=d("br"),w=p("\r\nSpecial Thanks to HG")},m(e,s){u(e,n,s),u(e,t,s),u(e,r,s),u(e,c,s),u(e,a,s),u(e,l,s),u(e,i,s);for(let e=0;e<k.length;e+=1)k[e].m(i,null);u(e,o,s),u(e,m,s),u(e,g,s),u(e,b,s),u(e,y,s),u(e,$,s),u(e,v,s),u(e,w,s)},p(e,n){if(0&n){let t;for(_=ae,t=0;t<_.length;t+=1){const r=xe(e,_,t);k[t]?k[t].p(r,n):(k[t]=Le(r),k[t].c(),k[t].m(i,null))}for(;t<k.length;t+=1)k[t].d(1);k.length=_.length}},d(e){e&&s(n),e&&s(t),e&&s(r),e&&s(c),e&&s(a),e&&s(l),e&&s(i),h(k,e),e&&s(o),e&&s(m),e&&s(g),e&&s(b),e&&s(y),e&&s($),e&&s(v),e&&s(w)}}}function Le(n){let t,r,c,a,l=n[22].name+"",i=n[22].desc+"";return{c(){t=d("li"),r=p(l),c=p(": "),a=p(i)},m(e,n){u(e,t,n),o(t,r),o(t,c),o(t,a)},p:e,d(e){e&&s(t)}}}function Ae(e){let n,t,r,c,a,l,i,h,p,g,y,$,v=[],w=new Map,_=!e[0]&&Se(e),k=e[6];const E=e=>e[25].uid;for(let n=0;n<k.length;n+=1){let t=Oe(e,k,n),r=E(t);w.set(r,v[n]=Ne(r,t))}let T=!e[0]&&Me(e),x=e[0]&&!e[1]&&!e[9]&&Ce(e),O=e[1]&&Ge(e),S=!e[0]&&He(e);return{c(){_&&_.c(),n=f(),t=d("div");for(let e=0;e<v.length;e+=1)v[e].c();r=f(),c=d("div"),T&&T.c(),a=f(),x&&x.c(),l=f(),O&&O.c(),i=f(),h=d("br"),p=d("br"),g=f(),S&&S.c(),y=m(),b(t,"class","cardArea svelte-1q59uft"),b(c,"class","resultArea svelte-1q59uft")},m(e,s){_&&_.m(e,s),u(e,n,s),u(e,t,s);for(let e=0;e<v.length;e+=1)v[e].m(t,null);u(e,r,s),u(e,c,s),T&&T.m(c,null),o(c,a),x&&x.m(c,null),o(c,l),O&&O.m(c,null),u(e,i,s),u(e,h,s),u(e,p,s),u(e,g,s),S&&S.m(e,s),u(e,y,s),$=!0},p(e,[r]){if(e[0]?_&&(_.d(1),_=null):_?_.p(e,r):(_=Se(e),_.c(),_.m(n.parentNode,n)),2113&r){const n=e[6];j(),v=function(e,n,t,r,c,a,l,i,o,u,s,h){let d=e.length,p=a.length,f=d;const m={};for(;f--;)m[e[f].key]=f;const g=[],b=new Map,y=new Map;for(f=p;f--;){const e=h(c,a,f),i=t(e);let o=l.get(i);o?r&&o.p(e,n):(o=u(i,e),o.c()),b.set(i,g[f]=o),i in m&&y.set(i,Math.abs(f-m[i]))}const $=new Set,v=new Set;function w(e){P(e,1),e.m(i,s),l.set(e.key,e),s=e.first,p--}for(;d&&p;){const n=g[p-1],t=e[d-1],r=n.key,c=t.key;n===t?(s=n.first,d--,p--):b.has(c)?!l.has(r)||$.has(r)?w(n):v.has(c)?d--:y.get(r)>y.get(c)?(v.add(r),w(n)):($.add(c),d--):(o(t,l),d--)}for(;d--;){const n=e[d];b.has(n.key)||o(n,l)}for(;p;)w(g[p-1]);return g}(v,r,E,1,e,n,w,t,R,Ne,null,Oe),B()}e[0]?T&&(T.d(1),T=null):T?T.p(e,r):(T=Me(e),T.c(),T.m(c,a)),!e[0]||e[1]||e[9]?x&&(x.d(1),x=null):x?x.p(e,r):(x=Ce(e),x.c(),x.m(c,l)),e[1]?O?O.p(e,r):(O=Ge(e),O.c(),O.m(c,null)):O&&(O.d(1),O=null),e[0]?S&&(S.d(1),S=null):S?S.p(e,r):(S=He(e),S.c(),S.m(y.parentNode,y))},i(e){if(!$){for(let e=0;e<k.length;e+=1)P(v[e]);$=!0}},o(e){for(let e=0;e<v.length;e+=1)F(v[e]);$=!1},d(e){_&&_.d(e),e&&s(n),e&&s(t);for(let e=0;e<v.length;e+=1)v[e].d();e&&s(r),e&&s(c),T&&T.d(),x&&x.d(),O&&O.d(),e&&s(i),e&&s(h),e&&s(p),e&&s(g),S&&S.d(e),e&&s(y)}}}function qe(e,n){return e.weaponEnhance>n.weaponEnhance?-1:e.weaponEnhance<n.weaponEnhance?1:0}function Ie(e){return new Promise(n=>setTimeout(n,e))}function ze(e,n,t){let r,c;l(e,re,e=>t(8,r=e)),l(e,ce,e=>t(9,c=e));let a=!1,o=!1,u=!1,s=4,h=[],d=9999,p=0,f=[{uid:-1,id:1,name:"",charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1},{uid:-1,id:2,name:"",charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1}];function m(e){t(6,f=[]);for(let n=0;n<e;n++)f.push({uid:p,id:n+1,name:"플레이어 #"+(n+1),charType:0,enhanceDurability:3,enhanceWarranty:3,weaponEnhance:0,highlight:!1,gameOver:!1}),p++}let g="";return e.$$.update=()=>{8&e.$$.dirty&&m(s)},[a,o,u,s,h,d,f,g,r,c,m,function(){let e=!0;for(const n of f)!1===n.gameOver&&(e=!1);if(e){t(1,o=!0);let e=99999,n=-1,r=-1;t(4,h=[]);let c=[];t(7,g="");const a=[...f].sort(qe);n=a[0].weaponEnhance,r=a[a.length-1].weaponEnhance;for(const t of a)e>t.weaponEnhance&&(e=t.weaponEnhance),1===d?t.weaponEnhance===n&&(h.push(t),c.push(t.name)):9999===d&&t.weaponEnhance===r&&(h.push(t),c.push(t.name));1===h.length?(t(7,g+=`<hr><h4>${h[0].name} 님, ${1===d?"1":"꼴"}등 축하드립니다.</h4>`),t(7,g+="기분 좋은 마음으로 커피를 쏘면 어떨까요?<br>")):(t(7,g+=`<hr><h4>${1===d?"1":"꼴"}등에 대한 동점자가 나왔군요!</h4><br><b>대상자: `+c.join(" 님, ")+" 님.</b><br>"),t(7,g+="동점자끼리 재경기를 원하시면 아래 버튼을 눌러주세요.<br>"),t(2,u=!0))}},function(){s=y(this.value),t(3,s)},function(){s=y(this.value),t(3,s)},function(){d=this.__value,t(5,d)},[[]],function(){d=this.__value,t(5,d)},()=>{t(0,a=!0),i(re,r=te.Started,r)},()=>{(async()=>{for(;!o;)i(ce,c+=1,c),await D(),await Ie(400)})()},()=>{(async()=>{t(1,o=!1),t(0,a=!0),t(2,u=!1),i(re,r=te.NotStarted,r),i(ce,c=0,c),t(4,h=h.map(e=>(e.enhanceDurability+=1,e.gameOver=!1,e))),t(6,f=h),await D()})()},()=>{t(1,o=!1),t(0,a=!1),t(2,u=!1),i(re,r=te.NotStarted,r),i(ce,c=0,c),m(s)}]}new class extends U{constructor(e){super(),Q(this,e,ze,Ae,a,{})}}({target:document.body})}();
//# sourceMappingURL=index.js.map
